# NEXUS Trading Platform - Development Configuration

general:
  instance_id: "nexus-dev-1"
  environment: "development"
  dry_run: true  # ALWAYS start in dry-run
  log_level: "debug"
  log_format: "json"

kafka:
  brokers:
    - "localhost:19092"
  schema_version: "1.0.0"
  producer:
    acks: "all"
    linger_ms: 5
    batch_size: 16384
    compression_type: "snappy"
  consumer:
    group_id_prefix: "nexus"
    auto_offset_reset: "earliest"
    max_poll_records: 500

clickhouse:
  dsn: "clickhouse://nexus:nexus@localhost:9000/nexus"
  database: "nexus"
  max_open_conns: 10
  max_idle_conns: 5

exchanges:
  enabled:
    - kraken
    - binance
  kraken:
    ws_url: "wss://ws.kraken.com/v2"
    rest_url: "https://api.kraken.com"
    api_key: "${KRAKEN_API_KEY}"
    api_secret: "${KRAKEN_API_SECRET}"
    symbols:
      - "BTC/USD"
      - "ETH/USD"
    rate_limit_rps: 1.0
  binance:
    ws_url: "wss://stream.binance.com:9443/ws"
    rest_url: "https://api.binance.com"
    api_key: "${BINANCE_API_KEY}"
    api_secret: "${BINANCE_API_SECRET}"
    symbols:
      - "BTCUSDT"
      - "ETHUSDT"
    rate_limit_rps: 10.0

risk:
  max_daily_loss_usd: 1000
  max_total_exposure_usd: 10000
  max_position_per_symbol: 5000
  max_notional_per_order: 2000
  cooldown_after_losses: 3
  cooldown_minutes: 15
  feed_lag_threshold_ms: 5000
  order_reject_spike_threshold: 5

intel:
  enabled: false  # Enable after S4
  max_events_per_hour: 10
  daily_budget_usd: 5.0
  internal_llm_address: "localhost:50052"
  grok_enabled: false
  grok_api_key: "${GROK_API_KEY}"
  claude_enabled: false
  claude_api_key: "${CLAUDE_API_KEY}"

metrics:
  prometheus_port: 9091
  enabled: true
